{% extends "admin/base.html" %} 


{% block extrastyle %}
    {{ block.super }}
    <style>

        /** Styles to button copy on clipboard **/
        .btn-copy {
            box-sizing: border-box;
            position: relative;
            display: block;
            transform: scale(var(--ggs,0.6));
            width: 14px;
            height: 18px;
            border: 2px solid;
            margin-left: -5px;
            margin-top: -4px;
            float: right;
        }
        .btn-copy::after,
        .btn-copy::before {
            content: "";
            display: block;
            box-sizing: border-box;
            position: absolute
        }
        .btn-copy::before {
            background:
                linear-gradient( to left,
                    currentColor 5px, transparent 0)
                    no-repeat right top/5px 2px,
                linear-gradient( to left,
                    currentColor 5px, transparent 0)
                    no-repeat left bottom/ 2px 5px;
            box-shadow: inset -4px -4px 0 -2px;
            bottom: -6px;
            right: -6px;
            width: 14px;
            height: 18px
        }
        .btn-copy::after {
            width: 6px;
            height: 2px;
            background: currentColor;
            left: 2px;
            top: 2px;
            box-shadow: 0 4px 0,0 8px 0
        }

        /** Style to related links **/
        .related_link {
            margin-left: 8px;
            font-size: 10px;
            text-transform: uppercase;

            display: inline-block;
            max-width: 23px;
            text-overflow: clip;
            overflow: hidden;
        }
        .related_link:hover {
            font-size: 11px;
            font-weight: bold;
        }

        
        /* Tooltip text to related link */
        .related_link .tooltiptext {
            visibility: hidden;
            /* width: 120px; */
            background-color: rgb(34, 34, 34);
            color: #89b1ea;
            text-align: center;
            padding: 5px 10px;
            border-radius: 6px;
            
            /* Position the tooltip text - see examples below! */
            position: absolute;
            z-index: 1;
        }

        /* Show the tooltip text when you mouse over the tooltip container */
        .related_link:hover .tooltiptext {
            visibility: visible;
        }

    </style>

{% endblock %} 


{% block header %}
    {{ block.super }}
   


<script>
    function copyText(text) {
        navigator.clipboard.writeText(text).then(() => {
            alert("Text copied");
        }).catch(err => {
            alert("Failed to copy text: " + err);
        });
    };

    function copyBtn(id) {
        return `<span class="btn-copy" onclick="copyText('${id}')"></span>`
    }

    function loadCopyIDButton() {
        const elements = document.getElementsByClassName("field-id")
        for (let i =0 ; i < elements.length; i++) {
            console.log("Check element " + i)
            const id = elements[i].getElementsByTagName("a")[0].innerText
            elements[i].innerHTML = elements[i].innerHTML + copyBtn(id)
        }
    }

    window.onload = loadCopyIDButton
</script>
{% endblock %}
